CREATE TABLE `stock_basic` (
	`id` INT NOT NULL AUTO_INCREMENT COMMENT 'id',
	`ts_code` VARCHAR(20) NOT NULL COMMENT '股票ts代码',
	`symbol` VARCHAR(20) NOT NULL COMMENT '股票代码',
	`name` VARCHAR(150) NULL DEFAULT NULL COMMENT '股票名称',
	`area` VARCHAR(50) NULL DEFAULT NULL COMMENT '所在地区',
	`industry` VARCHAR(50) NULL DEFAULT NULL COMMENT '所属行业',
	`market` VARCHAR(50) NULL DEFAULT NULL COMMENT '市场类型',
	`list_status` VARCHAR(50) NULL DEFAULT NULL COMMENT '上市状态：L上市 D退市 P暂停上市',
	`list_date` DATE NULL DEFAULT NULL COMMENT '上市日期',
	PRIMARY KEY (`id`) USING BTREE
)
COMMENT='股票基础数据'
COLLATE='utf8mb4_0900_ai_ci'
ENGINE=InnoDB
;



CREATE TABLE `stock_daily` (
	`id` INT NOT NULL AUTO_INCREMENT,
	`ts_code` VARCHAR(20) NOT NULL DEFAULT '' COMMENT '股票ts代码',
	`trade_date` DATE NOT NULL COMMENT '交易日期',
	`open` FLOAT NULL DEFAULT NULL COMMENT '开盘价',
	`high` FLOAT NULL DEFAULT NULL COMMENT '最高价',
	`low` FLOAT NULL DEFAULT NULL COMMENT '最低价',
	`close` FLOAT NULL DEFAULT NULL COMMENT '收盘价',
	`pre_close` FLOAT NULL DEFAULT NULL COMMENT '昨日收盘价',
	`change` FLOAT NULL DEFAULT NULL COMMENT '涨跌额',
	`pct_chg` FLOAT NULL DEFAULT NULL COMMENT '涨跌幅',
	`vol` FLOAT NULL DEFAULT NULL COMMENT '成交量(手)',
	`amount` FLOAT NULL DEFAULT NULL COMMENT '成交额(千元)',
	PRIMARY KEY (`id`) USING BTREE,
    INDEX `trade_date` (`ts_code`, `trade_date`) USING BTREE
)
COMMENT='股票日线行情'
COLLATE='utf8mb4_0900_ai_ci'
ENGINE=InnoDB
;



CREATE TABLE `stock_daily_basic` (
	`id` INT NOT NULL AUTO_INCREMENT COMMENT 'id',
	`ts_code` VARCHAR(20) NOT NULL DEFAULT '' COMMENT '股票ts代码',
	`trade_date` DATE NULL DEFAULT NULL COMMENT '交易日期',
	`close` FLOAT NULL DEFAULT NULL COMMENT '当日收盘价',
	`turnover_rate` FLOAT NULL DEFAULT NULL COMMENT '换手率%',
	`turnover_rate_f` FLOAT NULL DEFAULT NULL COMMENT '还手旅(自由流通股)',
	`volume_ratio` FLOAT NULL DEFAULT NULL COMMENT '量比',
	`pe` FLOAT NULL DEFAULT NULL COMMENT '市盈率(总市值/净利润，亏损的PE为空)',
	`pe_ttm` FLOAT NULL DEFAULT NULL COMMENT '市盈率(TTM,亏损的PR为空)',
	`pb` FLOAT NULL DEFAULT NULL COMMENT '市净率(总市值/净资产)',
	`ps` FLOAT NULL DEFAULT NULL COMMENT '市销率',
	`ps_ttm` FLOAT NULL DEFAULT NULL COMMENT '市销率(TTM)',
	`dv_ratio` FLOAT NULL DEFAULT NULL COMMENT '股息率%',
	`dv_ttm` FLOAT NULL DEFAULT NULL COMMENT '股息率(TTM)',
	`total_share` FLOAT NULL DEFAULT NULL COMMENT '总股本(万股)',
	`float_share` FLOAT NULL DEFAULT NULL COMMENT '流通股本(万股)',
	`free_share` FLOAT NULL DEFAULT NULL COMMENT '自由流通股本(万)',
	`total_mv` FLOAT NULL DEFAULT NULL COMMENT '总市值(万元',
	`circ_mv` FLOAT NULL DEFAULT NULL COMMENT '流通市值(万元)',
	PRIMARY KEY (`id`) USING BTREE,
	INDEX `trade_date` (`ts_code`, `trade_date`) USING BTREE
)
COMMENT='股票日指标'
COLLATE='utf8mb4_0900_ai_ci'
ENGINE=InnoDB
;


CREATE TABLE `fund_basic` (
	`id` INT NOT NULL AUTO_INCREMENT COMMENT 'id',
	`ts_code` VARCHAR(20) NOT NULL DEFAULT '' COMMENT '基金ts代码',
	`name` VARCHAR(150) NOT NULL DEFAULT '' COMMENT '基金简称',
	`management` VARCHAR(150) NOT NULL DEFAULT '' COMMENT '管理人',
	`fund_type` VARCHAR(150) NOT NULL DEFAULT '' COMMENT '投资类型',
	`fund_date` DATE NOT NULL COMMENT '成立日期',
	`due_date` DATE NOT NULL COMMENT '到期日期',
	`list_date` DATE NOT NULL COMMENT '上市日期',
	`issue_date` DATE NOT NULL COMMENT '发行日期',
	`issue_amount` FLOAT NOT NULL DEFAULT '0' COMMENT '发行份额(亿)',
	`m_fee` FLOAT NOT NULL DEFAULT '0' COMMENT '管理费',
	`type` VARCHAR(50) NOT NULL DEFAULT '0' COMMENT '基金类型',
	PRIMARY KEY (`id`) USING BTREE
)
COMMENT='基金基础数据'
COLLATE='utf8mb4_0900_ai_ci'
ENGINE=InnoDB
;


CREATE TABLE `fund_nav` (
	`id` INT NOT NULL AUTO_INCREMENT COMMENT 'id',
	`ts_code` VARCHAR(20) NOT NULL DEFAULT '' COMMENT '基金ts代码',
	`ann_date` DATE NOT NULL COMMENT '公告日期',
	`end_date` DATE NOT NULL COMMENT '截至日期',
	`unit_nav` FLOAT NOT NULL DEFAULT '0' COMMENT '单位净值',
	`accum_nav` FLOAT NOT NULL DEFAULT '0' COMMENT '累计净值',
	`accum_div` FLOAT NOT NULL DEFAULT '0' COMMENT '累计分红',
	`net_asset` FLOAT NOT NULL DEFAULT '0' COMMENT '资产净值',
	`total_netasset` FLOAT NOT NULL DEFAULT '0' COMMENT '合计资产净值',
	`daj_nav` FLOAT NOT NULL DEFAULT '0' COMMENT '复权单位净值',
	PRIMARY KEY (`id`) USING BTREE,
	INDEX `ts_code` (`ts_code`) USING BTREE
)
COMMENT='基金净值数据'
COLLATE='utf8mb4_0900_ai_ci'
ENGINE=InnoDB
;


CREATE TABLE `fund_daily` (
	`id` INT NOT NULL AUTO_INCREMENT COMMENT 'id',
	`ts_code` VARCHAR(20) NOT NULL COMMENT '基金ts代码',
	`trade_date` DATE NOT NULL COMMENT '交易日期',
	`open` FLOAT NOT NULL DEFAULT '0' COMMENT '开盘价',
	`high` FLOAT NOT NULL DEFAULT '0' COMMENT '最高价',
	`low` FLOAT NOT NULL DEFAULT '0' COMMENT '最低价',
	`close` FLOAT NOT NULL DEFAULT '0' COMMENT '收盘价',
	`pre_close` FLOAT NOT NULL DEFAULT '0' COMMENT '作日收盘价',
	`change` FLOAT NOT NULL DEFAULT '0' COMMENT '涨跌额',
	`pct_chg` FLOAT NOT NULL DEFAULT '0' COMMENT '涨跌幅',
	`vol` FLOAT NOT NULL DEFAULT '0' COMMENT '成交量',
	`amount` FLOAT NOT NULL DEFAULT '0' COMMENT '成交额',
	PRIMARY KEY (`id`),
	INDEX `ts_code` (`ts_code`, `trade_date`) USING BTREE
)
COMMENT='基金日线行情'
COLLATE='utf8mb4_0900_ai_ci'
ENGINE=InnoDB
;


CREATE TABLE `fund_portfplio` (
	`id` INT NOT NULL AUTO_INCREMENT COMMENT 'id',
	`ts_code` VARCHAR(20) NOT NULL DEFAULT '' COMMENT '基金ts代码',
	`ann_date` DATE NOT NULL COMMENT '公告日期',
	`end_date` DATE NOT NULL COMMENT '截至日期',
	`symbol` VARCHAR(20) NOT NULL DEFAULT '' COMMENT '股票代码',
	`mkv` FLOAT NOT NULL DEFAULT '0' COMMENT '持有股票市值',
	`amount` FLOAT NOT NULL DEFAULT '0' COMMENT '持有股票数量(股)',
	`stk_mkv_ratio` FLOAT NOT NULL DEFAULT '0' COMMENT '占股票市值比',
	`stk_float_ratio` FLOAT NOT NULL DEFAULT '0' COMMENT '占流通股本比例',
	PRIMARY KEY (`id`) USING BTREE,
	INDEX `ts_code` (`ts_code`) USING BTREE
)
COMMENT='基金持仓'
COLLATE='utf8mb4_0900_ai_ci'
ENGINE=InnoDB
;


