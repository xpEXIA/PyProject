<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>PageA_test</title>
    <script src="/Static/jquery-3.5.1.js"></script>
    <style>
        .modal{
            position: fixed;
            width: 100px;
            height: 100px;
            background: aliceblue;
            top: 50%;
            left: 50%;
            z-index: 1000;
        }
        .hide{
            display: none;
        }
        .shadow{
            position: fixed;
            background: black;
            opacity: 0.4;
            top:0;
            left:0;
            right: 0;
            bottom: 0;
            z-index: 999;
        }
    </style>
</head>


<body>
    <a>hello world</a>
    <p>{{ time }}</p>
    <table>
        {% for item in dota %}
            <tr>
                <td>{{item.id}}</td>
                <td>{{ item.position }}</td>
                <td>{{ item.role }}</td>
            </tr>
        {% endfor %}
    </table>
    <!-- 注释 -->
    <form>
        <p>
            <select name="test_id">
                {% for hero in dota %}
                    <option value="{{ hero.id }}">{{ hero.role }}</option>
                {% endfor %}
            </select>
        </p>
    </form>
    <p>
        <input id="input_id" type="text" name="title" />
    </p>
    <input type="button" value="提交" onclick="aJaxSend();" />
    <input type="button" value="显示弹窗" onclick="openDialog();">
    <div id="dialog", class="hide">
        <div id="shadow" class="shadow"></div>
        <div id="dialog-box" class="modal">
            hahah
            <input type="button" value="关闭弹窗" onclick="openDialog();">
        </div>
    </div>


    <script>
        function aJaxSend() {
            $.ajax(
                {
                    url: '/aJaxTest/',
                    type:'POST',
                    data:{'title': $('#input_id').val()},
                    success: function (data) {
                        console.log($('#input_id').val())
                        console.log(data)
                        if(data == '0'){
                            location.href='/pageB/';
                        }else{
                            $('#errormsg').text(data);
                        }
                    }
                }
            )
        }
        function openDialog() {
            // 注释
            $('#dialog').toggle()

        }
    </script>
</body>
</html>